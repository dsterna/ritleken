(this.webpackJsonpritleken=this.webpackJsonpritleken||[]).push([[0],{107:function(e,t,a){},110:function(e,t,a){},124:function(e,t,a){"use strict";a.r(t);a(107),a(108);var c=a(97),n=a(73),r=a.n(n),s=a(86),o=a(23),i=a(40),l=a(14),j=(a(110),a(46)),d=a(19),u=a(0),b=a.n(u),O=a(96),f=a(170),p=function(e){return{type:"ISHOSTCHANGER",payload:e}},h=function(e){return{type:"GAMECODECHANGER",payload:e}},m=a(24),y=a(184),x=a(177),v=a(77),g=a(178),C=a(171),S=a(174),k=a(176),E=a(185),N=a(95),R=a.n(N),w=a(175),A=a(179),H=a(92),D=a.n(H),T=a(126),B=a(93),I=a.n(B),M=a(94),_=a.n(M),z=a(183),G=a(91),L=a.n(G),X=a(188),U=a(187),W=a(180),J=a(182),F=a(181),P=a(127),V=(a(125),a(74));V.a.initializeApp({apiKey:"AIzaSyCam1vXotzoIfZT7DyTbF8XSnLe0he-Uto",authDomain:"adealbreaker-c9190.firebaseapp.com",databaseURL:"https://adealbreaker-c9190.firebaseio.com",projectId:"adealbreaker-c9190",storageBucket:"adealbreaker-c9190.appspot.com",messagingSenderId:"621961109952",appId:"1:621961109952:web:ae70fc224efd7b3cb8e825"});var K=V.a,Y=a.p+"static/media/temp2.5070e5eb.jpg",Z=a(4);var $=b.a.forwardRef((function(e,t){var a=e.ready,c=e.drawRound,n=Object(u.useState)(6),r=Object(l.a)(n,2),s=r[0],o=r[1],j=Object(u.useState)(0),d=Object(l.a)(j,2),b=d[0],p=d[1],h=Object(u.useState)(1),m=Object(l.a)(h,2),y=m[0],x=m[1],g=Object(u.useState)("rgba(38, 50, 56, 1)"),k=Object(l.a)(g,2),E=k[0],N=k[1],w=Object(u.useState)(3),A=Object(l.a)(w,2),H=A[0],B=A[1],M=Object(O.a)({palette:{primary:{main:E},secondary:{main:"#9e9e9e"}}});return Object(Z.jsxs)(f.a,{theme:M,children:[Object(Z.jsx)(C.a,{style:Object(i.a)({display:"flex",justifyContent:"space-around"},"justifyContent","center"),children:Object(Z.jsx)(v.a,{disabled:a||!c,ref:t,hideInterface:a||!c,brushRadius:s,brushColor:E,lazyRadius:b})}),c&&Object(Z.jsxs)(S.a,{style:{marginBottom:0,maxWidth:"400px",marginLeft:"auto",marginRight:"auto",padding:0},children:[Object(Z.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(Z.jsx)(T.a,{color:"secondary",onClick:function(){return t.current.undo()},children:Object(Z.jsx)(L.a,{})}),Object(Z.jsx)(T.a,{color:0===H?"primary":"secondary",onClick:function(){return B(0)},children:Object(Z.jsx)(D.a,{})}),Object(Z.jsx)(T.a,{color:1===H?"primary":"secondary",onClick:function(){return B(1)},children:Object(Z.jsx)(I.a,{})}),Object(Z.jsx)(T.a,{color:2===H?"primary":"secondary",onClick:function(){return B(2)},children:Object(Z.jsx)(_.a,{})}),Object(Z.jsx)(T.a,{color:3===H?"primary":"secondary",onClick:function(){return B(3)},children:Object(Z.jsx)(R.a,{})})]}),Object(Z.jsxs)(S.a,{style:{paddingTop:"0px",paddingBottom:"0px"},children:[0===H&&Object(Z.jsx)(X.a,{style:{width:"100%"},value:b,onChange:function(e,t){p(t)},"aria-labelledby":"continuous-slider",min:.5,max:50,step:.5}),1===H&&Object(Z.jsx)(X.a,{style:{width:"100%"},value:s,onChange:function(e,t){o(t)},"aria-labelledby":"continuous-slider",min:.5,max:25,step:.5}),2===H&&Object(Z.jsx)(X.a,{style:{width:"100%"},value:y,onChange:function(e,t){var a=E.replace(/rgba?(\(\s*\d+\s*,\s*\d+\s*,\s*\d+)(?:\s*,.+?)?\)/,"rgba$1,".concat(t,")"));N(a),x(t)},"aria-labelledby":"continuous-slider",min:.1,max:1,step:.1})]}),3===H&&Object(Z.jsx)("span",{style:{padding:"0",display:"flex",justifyContent:"space-around"},children:["244, 67, 54","156, 39, 176","33, 150, 243","76, 175, 80","255, 235, 59","255, 152, 0","158, 158, 158","38, 50, 56"].map((function(e,t){return Object(Z.jsx)(z.a,{value:"rgba(".concat(e,", ").concat(y,")"),checked:E==="rgba(".concat(e,", ").concat(y,")"),onChange:function(e){return N(e.target.value)},style:{color:"rgba(".concat(e,", ",1,")")}},t)}))})]})]})})),q=function(e){var t=Object(m.c)((function(e){return e.name})),a=Object(m.b)();return Object(Z.jsxs)(w.a,{maxWidth:"sm",className:"container",children:[Object(Z.jsx)(k.a,{component:"img",alt:"Contemplative Reptile",height:"300",image:Y,title:"tmep"}),Object(Z.jsxs)(S.a,{children:[Object(Z.jsx)(P.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Ritleken"}),Object(Z.jsx)(P.a,{variant:"body2",color:"textSecondary",component:"p",children:"T\xe4nk viskleken fast med penna och papper (typ). En spelare startar ett rum och resterande spelare joinar mha koden. N\xe4r spelet b\xf6rjar ska alla skriva ett ord som n\xe4stkommande spelare ska rita. Spelaren efter kommer i sin tur endast se den ritade bilden och ska gissa vad bilden f\xf6rest\xe4ller. Spelet \xe4r slut n\xe4r samtliga spelare ritat/skrivit p\xe5 alla ord. M\xe5let med speler \xe4r att samma ord h\xe5ller genom spelet."})]}),Object(Z.jsxs)(C.a,{style:{display:"flex",justifyContent:"space-around"},children:[Object(Z.jsx)(j.b,{to:"/join",children:Object(Z.jsx)(x.a,{size:"small",color:"primary",onClick:function(){a(p(!1))},children:"Joina spel  "})}),Object(Z.jsxs)(j.b,{to:"/lobby",children:[" ",Object(Z.jsx)(x.a,{size:"small",color:"primary",onClick:function(){a(p(!0)),a(h(t.code))},children:"Skapa rum"})]})]})]})},Q=function(e){var t=Object(m.c)((function(e){return e.name})),a=Object(m.c)((function(e){return e.game.isHost})),n=Object(m.c)((function(e){return e.game.gameCode})),b=Object(u.useState)([]),O=Object(l.a)(b,2),f=O[0],p=O[1],h=Object(u.useState)(t.userName),y=Object(l.a)(h,2),v=y[0],k=y[1],E=Object(u.useState)(!1),N=Object(l.a)(E,2),R=N[0],w=N[1],A=Object(d.f)(),H=Object(m.b)(),D=Object(d.g)(),T=Object(u.useState)({}),B=Object(l.a)(T,2),I=B[0],M=B[1],_=n&&K.firestore().collection("rooms").doc("".concat(n));Object(u.useEffect)((function(){var e;_?(a&&_.set({}),_.update((e={},Object(i.a)(e,"players.".concat(t.code),Object(o.a)(Object(o.a)({},t),{},{isHost:a})),Object(i.a)(e,"gameStarted",!1),e))):A.push("/")}),[]),Object(u.useEffect)((function(){if(_){var e=K.firestore().collection("rooms").doc("".concat(n)).onSnapshot((function(e){"/lobby"===D.pathname&&(null===e||void 0===e?void 0:e.data())&&Object.keys(e.data()).length&&(p(Object.values(e.data().players)),M(e.data().players),w(e.data().gameStarted))}));return function(){return e()}}}),[]),Object(u.useEffect)((function(){(function(){var e=Object(s.a)(r.a.mark((function e(){var c,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=""!==v?v:"player-".concat(t.code),H({type:"NAMECHANGER",payload:c});try{_.update((n={},Object(i.a)(n,"players.".concat(t.code),Object(o.a)(Object(o.a)({},t),{},{userName:c,isHost:a})),Object(i.a)(n,"gameStarted",!1),n))}catch(r){}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[v]);return Object(u.useEffect)((function(){R&&A.push("/write")}),[R]),Object(Z.jsxs)(g.a,{className:"card-class",style:{padding:"1rem"},children:[Object(Z.jsxs)(S.a,{children:[Object(Z.jsxs)(P.a,{variant:"h5",component:"h2",children:["Lobby ",n]}),Object(Z.jsx)("ul",{children:f.map((function(e){return Object(Z.jsx)("li",{children:e.userName},e.code)}))})]}),Object(Z.jsx)(C.a,{}),Object(Z.jsx)(F.a,{value:v,id:"outlined-basic",label:"Namn",variant:"outlined",onChange:function(e){k(e.target.value)}}),Object(Z.jsxs)(C.a,{style:{display:"flex",justifyContent:"space-around"},children:[Object(Z.jsxs)(j.b,{to:"/",children:["   ",Object(Z.jsx)(x.a,{size:"small",color:"primary",onClick:function(){},children:"Avbryt "})]}),a&&Object(Z.jsx)(x.a,{size:"small",color:"primary",onClick:function(){!function(){var e=f.length-1,t=I;f.forEach((function(e,a){for(var n=Object(c.a)(f).reverse(),r=0;r<a+1;r++)n.unshift(n.pop());t[e.code].order=n.map((function(e){return e.code})),t[e.code].ready=!1})),_.update({round:0,rounds:e+1,players:t})}(),_.update({gameStarted:!0})},children:" Starta  "})]})]})},ee=function(e){var t=Object(u.useState)(""),a=Object(l.a)(t,2),c=a[0],n=a[1],r=K.firestore().collection("rooms"),s=Object(m.b)(),o=Object(d.f)(),i=Object(u.useState)(!1),b=Object(l.a)(i,2),O=b[0],f=b[1];return Object(Z.jsxs)(g.a,{className:"card-class",style:{padding:"1rem"},children:[Object(Z.jsx)(S.a,{children:Object(Z.jsx)(P.a,{variant:"h5",component:"h2",children:"Joina spel"})}),Object(Z.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==c&&r.doc(c).get().then((function(e){e.exists?(s(h(c)),o.push("/lobby")):f(!0)}))},children:[Object(Z.jsx)(C.a,{children:Object(Z.jsx)(F.a,{value:c,id:"outlined-basic",label:"Anslutningskod",variant:"outlined",onChange:function(e){return n(e.target.value)}})}),Object(Z.jsxs)(C.a,{style:{display:"flex",justifyContent:"space-around"},children:[Object(Z.jsx)(j.b,{to:"/",children:Object(Z.jsx)(x.a,{size:"small",color:"primary",onClick:function(){},children:"Avbryt "})}),Object(Z.jsx)(x.a,{size:"small",color:"primary",type:"submit",children:"Hitta spel "}),Object(Z.jsx)(U.a,{open:O,autoHideDuration:6e3,onClose:function(){f(!1)},children:Object(Z.jsx)(y.a,{severity:"error",children:"Hittade ingets spel"})})]})]})]})},te=function(e){var t=Object(m.c)((function(e){return e.name.code})),a=Object(m.c)((function(e){return e.game.gameCode})),c=a&&K.firestore().collection("rooms").doc("".concat(a)),n=Object(u.useState)(99),r=Object(l.a)(n,2),s=r[0],o=r[1],i=Object(u.useState)([]),j=Object(l.a)(i,2),b=j[0],O=j[1],f=Object(u.useState)(""),h=Object(l.a)(f,2),y=h[0],x=h[1],v=Object(u.useState)(0),g=Object(l.a)(v,2),k=g[0],N=g[1],R=Object(u.useState)(0),H=Object(l.a)(R,2),D=H[0],T=H[1],B=Object(u.useState)(!1),I=Object(l.a)(B,2),M=I[0],_=I[1],z=Object(d.f)(),G=Object(d.g)();Object(u.useEffect)((function(){var e=c.onSnapshot((function(e){if("/write"===G.pathname&&e.data()){var t=e.data().players,a=e.data().round;O(t),N(a),T(Object.values(t).filter((function(e){return e.ready})).length),o(Object.values(t).length)}}));return function(){return e()}}),[]);var L=function(e){if(e.preventDefault(),""!==y){_(!0);var a=b[t];a.ready=!0,a[k]=y;var n={};n["players."+t]=a,c.update(n)}};return Object(u.useEffect)((function(){if(D===s){if(p){var e=b;Object.keys(b).forEach((function(t){return e[t].ready=!1})),c.update({round:k+1,players:e})}z.push("/draw")}}),[D]),Object(Z.jsxs)(w.a,{maxWidth:"sm",className:"container",children:[Object(Z.jsx)(S.a,{children:Object(Z.jsx)(P.a,{gutterBottom:!0,variant:"h5",component:"h3",style:{marginBottom:0,textAlign:"center"},children:"Skriv ditt ord:"})}),Object(Z.jsxs)(C.a,{style:{display:"flex",justifyContent:"center"},children:[Object(Z.jsxs)("form",{onSubmit:function(e){return L(e)},autoComplete:"off",children:[" ",Object(Z.jsx)(F.a,{disabled:M,id:"standard-basic",label:"",value:y,onChange:function(e){x(e.target.value)}})]}),Object(Z.jsx)("br",{})]}),Object(Z.jsx)(C.a,{style:{display:"flex",justifyContent:"space-around"},children:Object(Z.jsx)(A.a,{control:Object(Z.jsx)(E.a,{checked:M,onChange:function(e){return L(e)},name:"checkedB",color:"primary",disabled:M}),label:"Redo (".concat(D,")")})})]})},ae=function(){var e=Object(m.c)((function(e){return e.name.code})),t=Object(m.c)((function(e){return e.game.gameCode})),a=Object(u.useRef)(""),c=t&&K.firestore().collection("rooms").doc("".concat(t)),n=Object(u.useState)([]),r=Object(l.a)(n,2),s=r[0],o=r[1],i=Object(u.useState)(""),j=Object(l.a)(i,2),b=j[0],O=j[1],f=Object(u.useState)(""),h=Object(l.a)(f,2),y=h[0],x=h[1],v=Object(u.useState)(0),g=Object(l.a)(v,2),k=g[0],N=g[1],R=Object(u.useState)(0),H=Object(l.a)(R,2),D=H[0],T=H[1],B=Object(u.useState)(99),I=Object(l.a)(B,2),M=I[0],_=I[1],z=Object(u.useState)(!1),G=Object(l.a)(z,2),L=G[0],X=G[1],U=Object(u.useState)(!1),W=Object(l.a)(U,2),J=W[0],V=W[1],Y=Object(u.useState)(),q=Object(l.a)(Y,2),Q=q[0],ee=q[1],te=Object(d.f)(),ae=Object(d.g)();Object(u.useEffect)((function(){!0===J&&(X(!1),T(0),x(""));var t=c.onSnapshot((function(t){if("/draw"===ae.pathname&&t.data()){var a=t.data().players,c=t.data().round;if(c===Object.values(a).length)te.push("/done");else{o(a),N(c);var n=!(k%2!==0);T(Object.values(a).filter((function(e){return e.ready})).length),_(Object.values(a).length);var r=a[e].order[1];ee(n),O(a[r][c-1])}}}));return V(!1),function(){return t()}}),[J]),Object(u.useEffect)((function(){if(b)if(Q)a.current.clear();else{var t=s[e].order[1];a.current.loadSaveData(s[t][k-1],!0)}}),[Q]);var ce=function(t){if(t.preventDefault(),""!==y||Q){X(!0);var n=s[e];n.ready=!0,n[k]=Q?a.current.getSaveData():y;var r={};r["players."+e]=n,c.update(r)}};return Object(u.useEffect)((function(){if(D===M){if(p){c.update({round:k+1});var e=s;Object.keys(s).forEach((function(t){return e[t].ready=!1})),c.update({round:k+1,players:e})}V(!0)}}),[D]),Object(Z.jsxs)(w.a,{maxWidth:"sm",className:"container",children:[Object(Z.jsx)(S.a,{children:Object(Z.jsx)(P.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{textAlign:"center"},children:Q&&"Rita ".concat(b)})}),Object(Z.jsx)($,{ready:L,drawRound:Q,ref:a}),!Q&&Object(Z.jsx)(C.a,{style:{display:"flex",justifyContent:"center"},children:Object(Z.jsxs)("form",{onSubmit:function(e){return ce(e)},autoComplete:"off",children:[" ",Object(Z.jsx)(F.a,{disabled:L,id:"standard-basic",label:"",value:y,onChange:function(e){x(e.target.value)}})]})}),Object(Z.jsx)(C.a,{style:{display:"flex",justifyContent:"space-around"},children:Object(Z.jsx)(A.a,{control:Object(Z.jsx)(E.a,{checked:L,onClick:function(e){return ce(e)},name:"checkedB",color:"primary",disabled:L}),label:"Redo (".concat(D,")")})})]})},ce=function(e){var t=Object(m.c)((function(e){return e.game.gameCode})),a=Object(m.c)((function(e){return e.name.code})),c=Object(u.useState)(a),n=Object(l.a)(c,2),r=n[0],s=n[1],o=K.firestore().collection("rooms").doc("".concat(t)),i=Object(u.useState)(),b=Object(l.a)(i,2),O=b[0],f=b[1],p=Object(u.useState)(),h=Object(l.a)(p,2),y=h[0],g=h[1],k=Object(m.b)(),E=Object(d.f)(),N=Object(u.useRef)();Object(u.useEffect)((function(){o||E.push("/"),o.get().then((function(e){e.exists&&f(e.data().players)}))}),[]),Object(u.useEffect)((function(){if(O){var e=O,t=Object.entries(e).map((function(e){var t=Object(l.a)(e,2);return{key:t[0],val:t[1].order.indexOf(r)}})).sort((function(e,t){return e.val>t.val?1:t.val>e.val?-1:0}));g(t)}}),[O,r]);return Object(Z.jsxs)(w.a,{maxWidth:"sm",className:"container",style:{marginTop:"3rem",marginBottom:"3rem"},children:[Object(Z.jsx)(S.a,{children:O&&Object(Z.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(Z.jsx)(J.a,{onChange:function(e,t){s(t)},value:r,indicatorColor:"primary",textColor:"primary",variant:"scrollable",children:Object.keys(O).map((function(e,t){return Object(Z.jsx)(W.a,{label:O[e].userName,value:O[e].code},t)}))})})}),y&&y.map((function(e,t){return Object(Z.jsx)("div",{children:t%2===0?Object(Z.jsx)("h2",{style:{textAlign:"center",fontFamily:"Roboto"},children:O[e.key][t]}):Object(Z.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(Z.jsx)(v.a,{disabled:!0,ref:N,saveData:O[e.key][t],loadTimeOffset:.4,hideInterface:!0,style:{touchAction:"pan-y"}})})},t)})),Object(Z.jsx)(C.a,{style:{display:"flex",justifyContent:"space-around"},children:Object(Z.jsxs)(j.b,{to:"/",children:[" ",Object(Z.jsx)(x.a,{size:"small",color:"primary",onClick:function(){o&&(o.delete(),k({type:"NAMECODECHANGER"}))},children:"Tillbaka"})]})})]})},ne=function(){return Object(Z.jsx)("div",{children:Object(Z.jsx)(j.a,{children:Object(Z.jsx)("div",{className:"wapper",children:Object(Z.jsxs)(d.c,{children:[Object(Z.jsx)(d.a,{exact:!0,path:"/lobby",children:Object(Z.jsx)(Q,{})}),Object(Z.jsx)(d.a,{exact:!0,path:"/join",children:Object(Z.jsx)(ee,{})}),Object(Z.jsx)(d.a,{exact:!0,path:"/write",children:Object(Z.jsx)(te,{})}),Object(Z.jsx)(d.a,{exact:!0,path:"/draw",children:Object(Z.jsx)(ae,{})}),Object(Z.jsx)(d.a,{exact:!0,path:"/done",children:Object(Z.jsx)(ce,{})}),Object(Z.jsx)(d.a,{path:"/",children:Object(Z.jsx)(q,{})})]})})})})},re=a(16),se=a.n(re),oe=a(67),ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{gameCode:"",isHost:!0,nrOfPlayers:2},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GAMECODECHANGER":return Object(o.a)(Object(o.a)({},e),{},{gameCode:t.payload});case"ISHOSTCHANGER":return Object(o.a)(Object(o.a)({},e),{},{isHost:t.payload});case"SETNUMBEROFPLAYERS":return Object(o.a)(Object(o.a)({},e),{},{nrOfPlayers:t.payload});default:return e}},le=Math.floor(1e3+9e3*Math.random()),je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{code:le,userName:"spelare-".concat(le)},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NAMECHANGER":return Object(o.a)(Object(o.a)({},e),{},{userName:t.payload});case"NAMECODECHANGER":var a=Math.floor(1e3+9e3*Math.random());return Object(o.a)(Object(o.a)({},e),{},{code:a});default:return e}},de=Object(oe.a)({name:je,game:ie}),ue=Object(oe.b)(de,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());se.a.render(Object(Z.jsx)(m.a,{store:ue,children:Object(Z.jsx)(ne,{})}),document.getElementById("root"))}},[[124,1,2]]]);
//# sourceMappingURL=main.bf5b0b66.chunk.js.map