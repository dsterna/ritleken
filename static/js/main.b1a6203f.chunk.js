(this.webpackJsonpritleken=this.webpackJsonpritleken||[]).push([[0],{100:function(e,t,a){},103:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);a(100),a(101);var c=a(91),n=a(71),r=a.n(n),s=a(86),o=a(22),i=a(14),l=a(34),j=(a(103),a(45)),b=a(17),d=a(0),u=function(e){return{type:"ISHOSTCHANGER",payload:e}},O=function(e){return{type:"GAMECODECHANGER",payload:e}},f=a(23),p=a(178),h=a(173),x=a(65),m=a(174),y=a(169),v=a(168),g=a(172),C=a(179),S=a(78),E=a.n(S),k=a(164),N=a(171),A=a(76),R=a.n(A),w=a(170),D=a(77),H=a.n(D),B=a(75),T=a.n(B),_=a(181),I=a(175),M=a(177),z=a(176),G=a(119),L=(a(118),a(72));L.a.initializeApp({apiKey:"AIzaSyCam1vXotzoIfZT7DyTbF8XSnLe0he-Uto",authDomain:"adealbreaker-c9190.firebaseapp.com",databaseURL:"https://adealbreaker-c9190.firebaseio.com",projectId:"adealbreaker-c9190",storageBucket:"adealbreaker-c9190.appspot.com",messagingSenderId:"621961109952",appId:"1:621961109952:web:ae70fc224efd7b3cb8e825"});var X=L.a,U=a.p+"static/media/temp2.5070e5eb.jpg",W=a(3);var J=function(){var e=Object(d.useRef)(),t=!1;return Object(W.jsxs)(k.a,{maxWidth:"sm",className:"container",children:[Object(W.jsx)(v.a,{children:Object(W.jsx)(G.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{textAlign:"center"},children:"Rita ".concat("bl\xe4")})}),Object(W.jsx)(y.a,{style:Object(l.a)({display:"flex",justifyContent:"space-around"},"justifyContent","center"),children:Object(W.jsx)(x.a,{disabled:!1,ref:e})}),!1,Object(W.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(W.jsx)(w.a,{"aria-label":"delete",onClick:function(){return e.current.undo()},children:Object(W.jsx)(T.a,{})}),Object(W.jsx)(w.a,{"aria-label":"delete",disabled:!0,color:"primary",children:Object(W.jsx)(R.a,{})}),Object(W.jsx)(w.a,{color:"secondary","aria-label":"add an alarm",children:Object(W.jsx)(H.a,{})}),Object(W.jsx)(w.a,{color:"primary","aria-label":"add to shopping cart",children:Object(W.jsx)(E.a,{})})]}),Object(W.jsx)(y.a,{style:{display:"flex",justifyContent:"space-around"},children:Object(W.jsx)(N.a,{control:Object(W.jsx)(C.a,{checked:t,name:"checkedB",color:"primary",disabled:t}),label:"Redo (".concat(1,")")})})]})},F=function(e){var t=Object(f.c)((function(e){return e.name})),a=Object(f.b)();return Object(W.jsxs)(k.a,{maxWidth:"sm",className:"container",children:[Object(W.jsx)(g.a,{component:"img",alt:"Contemplative Reptile",height:"300",image:U,title:"tmep"}),Object(W.jsxs)(v.a,{children:[Object(W.jsx)(G.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Ritleken"}),Object(W.jsx)(G.a,{variant:"body2",color:"textSecondary",component:"p",children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Saepe non rem inventore repellendus est exercitationem nihil earum consequatur libero corrupti?"})]}),Object(W.jsxs)(y.a,{style:{display:"flex",justifyContent:"space-around"},children:[Object(W.jsx)(j.b,{to:"/join",children:Object(W.jsx)(h.a,{size:"small",color:"primary",onClick:function(){a(u(!1))},children:"Joina spel  "})}),Object(W.jsxs)(j.b,{to:"/lobby",children:[" ",Object(W.jsx)(h.a,{size:"small",color:"primary",onClick:function(){a(u(!0)),a(O(t.code))},children:"Skapa rum"})]})]})]})},P=function(e){var t=Object(f.c)((function(e){return e.name})),a=Object(f.c)((function(e){return e.game.isHost})),n=Object(f.c)((function(e){return e.game.gameCode})),u=Object(d.useState)([]),O=Object(i.a)(u,2),p=O[0],x=O[1],g=Object(d.useState)(t.userName),C=Object(i.a)(g,2),S=C[0],E=C[1],k=Object(d.useState)(!1),N=Object(i.a)(k,2),A=N[0],R=N[1],w=Object(b.f)(),D=Object(f.b)(),H=Object(b.g)(),B=Object(d.useState)({}),T=Object(i.a)(B,2),_=T[0],I=T[1],M=n&&X.firestore().collection("rooms").doc("".concat(n));Object(d.useEffect)((function(){var e;M?(a&&M.set({}),M.update((e={},Object(l.a)(e,"players.".concat(t.code),Object(o.a)(Object(o.a)({},t),{},{isHost:a})),Object(l.a)(e,"gameStarted",!1),e))):w.push("/")}),[]),Object(d.useEffect)((function(){if(M){var e=X.firestore().collection("rooms").doc("".concat(n)).onSnapshot((function(e){"/lobby"===H.pathname&&(null===e||void 0===e?void 0:e.data())&&Object.keys(e.data()).length&&(x(Object.values(e.data().players)),I(e.data().players),R(e.data().gameStarted))}));return function(){return e()}}}),[]),Object(d.useEffect)((function(){(function(){var e=Object(s.a)(r.a.mark((function e(){var c,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=""!==S?S:"player-".concat(t.code),D({type:"NAMECHANGER",payload:c});try{M.update((n={},Object(l.a)(n,"players.".concat(t.code),Object(o.a)(Object(o.a)({},t),{},{userName:c,isHost:a})),Object(l.a)(n,"gameStarted",!1),n))}catch(r){}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[S]);return Object(d.useEffect)((function(){A&&w.push("/write")}),[A]),Object(W.jsxs)(m.a,{className:"card-class",style:{padding:"1rem"},children:[Object(W.jsxs)(v.a,{children:[Object(W.jsxs)(G.a,{variant:"h5",component:"h2",children:["Lobby ",n]}),Object(W.jsx)("ul",{children:p.map((function(e){return Object(W.jsx)("li",{children:e.userName},e.code)}))})]}),Object(W.jsx)(y.a,{}),Object(W.jsx)(z.a,{value:S,id:"outlined-basic",label:"Namn",variant:"outlined",onChange:function(e){E(e.target.value)}}),Object(W.jsxs)(y.a,{style:{display:"flex",justifyContent:"space-around"},children:[Object(W.jsxs)(j.b,{to:"/",children:["   ",Object(W.jsx)(h.a,{size:"small",color:"primary",onClick:function(){},children:"Avbryt "})]}),a&&Object(W.jsx)(h.a,{size:"small",color:"primary",onClick:function(){!function(){var e=p.length-1,t=_;p.forEach((function(e,a){for(var n=Object(c.a)(p).reverse(),r=0;r<a+1;r++)n.unshift(n.pop());t[e.code].order=n.map((function(e){return e.code})),t[e.code].ready=!1})),M.update({round:0,rounds:e+1,players:t})}(),M.update({gameStarted:!0})},children:" Starta  "})]})]})},V=function(e){var t=Object(d.useState)(""),a=Object(i.a)(t,2),c=a[0],n=a[1],r=X.firestore().collection("rooms"),s=Object(f.b)(),o=Object(b.f)(),l=Object(d.useState)(!1),u=Object(i.a)(l,2),x=u[0],g=u[1];return Object(W.jsxs)(m.a,{className:"card-class",style:{padding:"1rem"},children:[Object(W.jsx)(v.a,{children:Object(W.jsx)(G.a,{variant:"h5",component:"h2",children:"Joina spel"})}),Object(W.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==c&&r.doc(c).get().then((function(e){e.exists?(s(O(c)),o.push("/lobby")):g(!0)}))},children:[Object(W.jsx)(y.a,{children:Object(W.jsx)(z.a,{value:c,id:"outlined-basic",label:"Anslutningskod",variant:"outlined",onChange:function(e){return n(e.target.value)}})}),Object(W.jsxs)(y.a,{style:{display:"flex",justifyContent:"space-around"},children:[Object(W.jsx)(j.b,{to:"/",children:Object(W.jsx)(h.a,{size:"small",color:"primary",onClick:function(){},children:"Avbryt "})}),Object(W.jsx)(h.a,{size:"small",color:"primary",type:"submit",children:"Hitta spel "}),Object(W.jsx)(_.a,{open:x,autoHideDuration:6e3,onClose:function(){g(!1)},children:Object(W.jsx)(p.a,{severity:"error",children:"Hittade ingets spel"})})]})]})]})},q=function(e){var t=Object(f.c)((function(e){return e.name.code})),a=Object(f.c)((function(e){return e.game.gameCode})),c=a&&X.firestore().collection("rooms").doc("".concat(a)),n=Object(d.useState)(99),r=Object(i.a)(n,2),s=r[0],o=r[1],l=Object(d.useState)([]),j=Object(i.a)(l,2),O=j[0],p=j[1],h=Object(d.useState)(""),x=Object(i.a)(h,2),m=x[0],g=x[1],S=Object(d.useState)(0),E=Object(i.a)(S,2),A=E[0],R=E[1],w=Object(d.useState)(0),D=Object(i.a)(w,2),H=D[0],B=D[1],T=Object(d.useState)(!1),_=Object(i.a)(T,2),I=_[0],M=_[1],L=Object(b.f)(),U=Object(b.g)();Object(d.useEffect)((function(){var e=c.onSnapshot((function(e){if("/write"===U.pathname&&e.data()){var t=e.data().players,a=e.data().round;p(t),R(a),B(Object.values(t).filter((function(e){return e.ready})).length),o(Object.values(t).length)}}));return function(){return e()}}),[]);var J=function(e){if(e.preventDefault(),""!==m){M(!0);var a=O[t];a.ready=!0,a[A]=m;var n={};n["players."+t]=a,c.update(n)}};return Object(d.useEffect)((function(){if(H===s){if(u){var e=O;Object.keys(O).forEach((function(t){return e[t].ready=!1})),c.update({round:A+1,players:e})}L.push("/draw")}}),[H]),Object(W.jsxs)(k.a,{maxWidth:"sm",className:"container",children:[Object(W.jsx)(v.a,{children:Object(W.jsx)(G.a,{gutterBottom:!0,variant:"h5",component:"h3",style:{marginBottom:0,textAlign:"center"},children:"Skriv ditt ord:"})}),Object(W.jsxs)(y.a,{style:{display:"flex",justifyContent:"center"},children:[Object(W.jsxs)("form",{onSubmit:function(e){return J(e)},autoComplete:"off",children:[" ",Object(W.jsx)(z.a,{disabled:I,id:"standard-basic",label:"",value:m,onChange:function(e){g(e.target.value)}})]}),Object(W.jsx)("br",{})]}),Object(W.jsx)(y.a,{style:{display:"flex",justifyContent:"space-around"},children:Object(W.jsx)(N.a,{control:Object(W.jsx)(C.a,{checked:I,onChange:function(e){return J(e)},name:"checkedB",color:"primary",disabled:I}),label:"Redo (".concat(H,")")})})]})},K=function(){var e=Object(f.c)((function(e){return e.name.code})),t=Object(f.c)((function(e){return e.game.gameCode})),a=Object(d.useRef)(""),c=t&&X.firestore().collection("rooms").doc("".concat(t)),n=Object(d.useState)([]),r=Object(i.a)(n,2),s=r[0],o=r[1],l=Object(d.useState)(""),j=Object(i.a)(l,2),O=j[0],p=j[1],h=Object(d.useState)(""),m=Object(i.a)(h,2),g=m[0],S=m[1],A=Object(d.useState)(0),D=Object(i.a)(A,2),B=D[0],_=D[1],I=Object(d.useState)(0),M=Object(i.a)(I,2),L=M[0],U=M[1],J=Object(d.useState)(99),F=Object(i.a)(J,2),P=F[0],V=F[1],q=Object(d.useState)(!1),K=Object(i.a)(q,2),Y=K[0],Z=K[1],Q=Object(d.useState)(!1),$=Object(i.a)(Q,2),ee=$[0],te=$[1],ae=Object(d.useState)(),ce=Object(i.a)(ae,2),ne=ce[0],re=ce[1],se=Object(b.f)(),oe=Object(b.g)();Object(d.useEffect)((function(){!0===ee&&(Z(!1),U(0),S(""));var t=c.onSnapshot((function(t){if("/draw"===oe.pathname&&t.data()){var a=t.data().players,c=t.data().round;if(c===Object.values(a).length)se.push("/done");else{o(a),_(c);var n=!(B%2!==0);U(Object.values(a).filter((function(e){return e.ready})).length),V(Object.values(a).length);var r=a[e].order[1];re(n),p(a[r][c-1])}}}));return te(!1),function(){return t()}}),[ee]),Object(d.useEffect)((function(){if(O)if(ne)a.current.clear();else{var t=s[e].order[1];a.current.loadSaveData(s[t][B-1],!0)}}),[ne]);var ie=function(t){if(t.preventDefault(),""!==g||ne){Z(!0);var n=s[e];n.ready=!0,n[B]=ne?a.current.getSaveData():g;var r={};r["players."+e]=n,c.update(r)}};return Object(d.useEffect)((function(){if(L===P){if(u){c.update({round:B+1});var e=s;Object.keys(s).forEach((function(t){return e[t].ready=!1})),c.update({round:B+1,players:e})}te(!0)}}),[L]),Object(W.jsxs)(k.a,{maxWidth:"sm",className:"container",children:[Object(W.jsx)(v.a,{children:Object(W.jsx)(G.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{textAlign:"center"},children:ne&&"Rita ".concat(O)})}),Object(W.jsx)(y.a,{style:{display:"flex",justifyContent:"center"},children:Object(W.jsx)(x.a,{disabled:Y||!ne,ref:a})}),!ne&&Object(W.jsx)(y.a,{style:{display:"flex",justifyContent:"center"},children:Object(W.jsxs)("form",{onSubmit:function(e){return ie(e)},autoComplete:"off",children:[" ",Object(W.jsx)(z.a,{disabled:Y,id:"standard-basic",label:"",value:g,onChange:function(e){S(e.target.value)}})]})}),Object(W.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(W.jsx)(w.a,{"aria-label":"delete",onClick:function(){return a.current.undo()},children:Object(W.jsx)(T.a,{})}),Object(W.jsx)(w.a,{"aria-label":"delete",disabled:!0,color:"primary",children:Object(W.jsx)(R.a,{})}),Object(W.jsx)(w.a,{color:"secondary","aria-label":"add an alarm",children:Object(W.jsx)(H.a,{})}),Object(W.jsx)(w.a,{color:"primary","aria-label":"add to shopping cart",children:Object(W.jsx)(E.a,{})})]}),Object(W.jsx)(y.a,{style:{display:"flex",justifyContent:"space-around"},children:Object(W.jsx)(N.a,{control:Object(W.jsx)(C.a,{checked:Y,onClick:function(e){return ie(e)},name:"checkedB",color:"primary",disabled:Y}),label:"Redo (".concat(L,")")})})]})},Y=function(e){var t=Object(f.c)((function(e){return e.game.gameCode})),a=Object(f.c)((function(e){return e.name.code})),c=Object(d.useState)(a),n=Object(i.a)(c,2),r=n[0],s=n[1],l=X.firestore().collection("rooms").doc("".concat(t)),u=Object(d.useState)(),O=Object(i.a)(u,2),p=O[0],m=O[1],g=Object(d.useState)(),C=Object(i.a)(g,2),S=C[0],E=C[1],N=Object(f.b)(),A=Object(b.f)();Object(d.useEffect)((function(){l||A.push("/"),l.get().then((function(e){e.exists&&m(e.data().players)}))}),[]),Object(d.useEffect)((function(){if(p){var e=p,t=Object.entries(e).map((function(e){var t=Object(i.a)(e,2);return{key:t[0],val:t[1].order.indexOf(r)}})).sort((function(e,t){return e.val>t.val?1:t.val>e.val?-1:0}));E(t)}}),[p,r]);return Object(W.jsxs)(k.a,{maxWidth:"sm",className:"container",style:{marginTop:"3rem",marginBottom:"3rem"},children:[Object(W.jsx)(v.a,{children:p&&Object(W.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(W.jsx)(M.a,{onChange:function(e,t){s(t)},value:r,indicatorColor:"primary",textColor:"primary",children:Object.keys(p).map((function(e,t){return Object(W.jsx)(I.a,Object(o.a)({label:p[e].userName,value:p[e].code},function(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}(t)),t)}))})})}),S&&S.map((function(e,t){return Object(W.jsx)("div",{children:t%2===0?Object(W.jsx)("h2",{style:{textAlign:"center",fontFamily:"Roboto"},children:p[e.key][t]}):Object(W.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(W.jsx)(x.a,{disabled:!0,saveData:p[e.key][t],hideInterface:!0,style:{touchAction:"pan-y"}})})},t)})),Object(W.jsx)(y.a,{style:{display:"flex",justifyContent:"space-around"},children:Object(W.jsxs)(j.b,{to:"/",children:[" ",Object(W.jsx)(h.a,{size:"small",color:"primary",onClick:function(){l&&(l.delete(),N({type:"NAMECODECHANGER"}))},children:"Tillbaka"})]})})]})},Z=function(){return Object(W.jsx)("div",{children:Object(W.jsx)(j.a,{children:Object(W.jsx)("div",{className:"wapper",children:Object(W.jsxs)(b.c,{children:[Object(W.jsx)(b.a,{exact:!0,path:"/lobby",children:Object(W.jsx)(P,{})}),Object(W.jsx)(b.a,{exact:!0,path:"/join",children:Object(W.jsx)(V,{})}),Object(W.jsx)(b.a,{exact:!0,path:"/write",children:Object(W.jsx)(q,{})}),Object(W.jsx)(b.a,{exact:!0,path:"/draw",children:Object(W.jsx)(K,{})}),Object(W.jsx)(b.a,{exact:!0,path:"/done",children:Object(W.jsx)(Y,{})}),Object(W.jsx)(b.a,{exact:!0,path:"/TempDraw",children:Object(W.jsx)(J,{})}),Object(W.jsx)(b.a,{path:"/",children:Object(W.jsx)(F,{})})]})})})})},Q=a(12),$=a.n(Q),ee=a(64),te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{gameCode:"",isHost:!0,nrOfPlayers:2},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GAMECODECHANGER":return Object(o.a)(Object(o.a)({},e),{},{gameCode:t.payload});case"ISHOSTCHANGER":return Object(o.a)(Object(o.a)({},e),{},{isHost:t.payload});case"SETNUMBEROFPLAYERS":return Object(o.a)(Object(o.a)({},e),{},{nrOfPlayers:t.payload});default:return e}},ae=Math.floor(1e3+9e3*Math.random()),ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{code:ae,userName:"spelare-".concat(ae)},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NAMECHANGER":return Object(o.a)(Object(o.a)({},e),{},{userName:t.payload});case"NAMECODECHANGER":var a=Math.floor(1e3+9e3*Math.random());return Object(o.a)(Object(o.a)({},e),{},{code:a});default:return e}},ne=Object(ee.a)({name:ce,game:te}),re=Object(ee.b)(ne,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());$.a.render(Object(W.jsx)(f.a,{store:re,children:Object(W.jsx)(Z,{})}),document.getElementById("root"))}},[[117,1,2]]]);
//# sourceMappingURL=main.b1a6203f.chunk.js.map