(this.webpackJsonpritleken=this.webpackJsonpritleken||[]).push([[0],{106:function(e,t,a){},109:function(e,t,a){},123:function(e,t,a){"use strict";a.r(t);a(106),a(107);var c=a(96),n=a(73),r=a.n(n),s=a(86),o=a(44),i=a(23),l=a(14),j=(a(109),a(46)),d=a(19),u=a(0),b=a.n(u),O=a(95),f=a(170),p=function(e){return{type:"ISHOSTCHANGER",payload:e}},h=function(e){return{type:"GAMECODECHANGER",payload:e}},m=a(24),y=a(184),x=a(177),v=a(77),g=a(178),C=a(171),S=a(174),k=a(176),E=a(185),N=a(94),R=a.n(N),A=a(175),w=a(179),H=a(125),D=a(92),T=a.n(D),B=a(93),I=a.n(B),M=a(183),_=a(91),z=a.n(_),G=a(188),W=a(187),L=a(180),X=a(182),U=a(181),F=a(126),J=(a(124),a(74));J.a.initializeApp({apiKey:"AIzaSyCam1vXotzoIfZT7DyTbF8XSnLe0he-Uto",authDomain:"adealbreaker-c9190.firebaseapp.com",databaseURL:"https://adealbreaker-c9190.firebaseio.com",projectId:"adealbreaker-c9190",storageBucket:"adealbreaker-c9190.appspot.com",messagingSenderId:"621961109952",appId:"1:621961109952:web:ae70fc224efd7b3cb8e825"});var P=J.a,V=a.p+"static/media/temp2.5070e5eb.jpg",K=a(4);var Y=b.a.forwardRef((function(e,t){var a=e.ready,c=e.drawRound,n=Object(u.useState)(6),r=Object(l.a)(n,2),s=r[0],o=r[1],i=Object(u.useState)(0),j=Object(l.a)(i,2),d=j[0],b=j[1],p=Object(u.useState)(1),h=Object(l.a)(p,2),m=h[0],y=h[1],x=Object(u.useState)("rgba(38, 50, 56, 1)"),g=Object(l.a)(x,2),k=g[0],E=g[1],N=Object(u.useState)(3),A=Object(l.a)(N,2),w=A[0],D=A[1],B=Object(O.a)({palette:{primary:{main:k},secondary:{main:"#9e9e9e"}}});return Object(K.jsxs)(f.a,{theme:B,children:[Object(K.jsx)(C.a,{style:{display:"flex",justifyContent:"center"},children:Object(K.jsx)(v.a,{disabled:a||!c,ref:t,hideInterface:a||!c,brushRadius:s,brushColor:k,lazyRadius:d})}),c&&Object(K.jsxs)(S.a,{style:{marginBottom:0,maxWidth:"400px",marginLeft:"auto",marginRight:"auto",padding:0},children:[Object(K.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(K.jsx)(H.a,{color:"secondary",onClick:function(){return t.current.undo()},children:Object(K.jsx)(z.a,{})}),Object(K.jsx)(H.a,{color:1===w?"primary":"secondary",onClick:function(){return D(1)},children:Object(K.jsx)(T.a,{})}),Object(K.jsx)(H.a,{color:2===w?"primary":"secondary",onClick:function(){return D(2)},children:Object(K.jsx)(I.a,{})}),Object(K.jsx)(H.a,{color:3===w?"primary":"secondary",onClick:function(){return D(3)},children:Object(K.jsx)(R.a,{})})]}),Object(K.jsxs)(S.a,{style:{paddingTop:"0px",paddingBottom:"0px"},children:[0===w&&Object(K.jsx)(G.a,{style:{width:"100%"},value:d,onChange:function(e,t){b(t)},"aria-labelledby":"continuous-slider",min:.5,max:50,step:.5}),1===w&&Object(K.jsx)(G.a,{style:{width:"100%"},value:s,onChange:function(e,t){o(t)},"aria-labelledby":"continuous-slider",min:.5,max:25,step:.5}),2===w&&Object(K.jsx)(G.a,{style:{width:"100%"},value:m,onChange:function(e,t){var a=k.replace(/rgba?(\(\s*\d+\s*,\s*\d+\s*,\s*\d+)(?:\s*,.+?)?\)/,"rgba$1,".concat(t,")"));E(a),y(t)},"aria-labelledby":"continuous-slider",min:.1,max:1,step:.1})]}),3===w&&Object(K.jsx)("span",{style:{padding:"0",display:"flex",justifyContent:"space-around"},children:["244, 67, 54","156, 39, 176","33, 150, 243","76, 175, 80","255, 235, 59","255, 152, 0","158, 158, 158","38, 50, 56"].map((function(e,t){return Object(K.jsx)(M.a,{value:"rgba(".concat(e,", ").concat(m,")"),checked:k==="rgba(".concat(e,", ").concat(m,")"),onChange:function(e){return E(e.target.value)},style:{color:"rgba(".concat(e,", ",1,")")}},t)}))})]})]})})),Z=function(e){var t=Object(m.c)((function(e){return e.name})),a=Object(m.b)();return Object(K.jsxs)(A.a,{maxWidth:"sm",className:"container",children:[Object(K.jsx)(k.a,{component:"img",alt:"Contemplative Reptile",height:"300",image:V,title:"tmep"}),Object(K.jsxs)(S.a,{children:[Object(K.jsx)(F.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Ritleken"}),Object(K.jsx)(F.a,{variant:"body2",color:"textSecondary",component:"p",children:"T\xe4nk viskleken fast med penna och papper (typ). En spelare startar ett rum och resterande spelare joinar mha koden. N\xe4r spelet b\xf6rjar ska alla skriva ett ord som n\xe4stkommande spelare ska rita. Spelaren efter kommer i sin tur endast se den ritade bilden och ska gissa vad bilden f\xf6rest\xe4ller. Spelet \xe4r slut n\xe4r samtliga spelare har ritat eller skrivit alla ord. M\xe5let med spelet \xe4r att startorden h\xe5ller genom spelet."})]}),Object(K.jsxs)(C.a,{style:{display:"flex",justifyContent:"space-around"},children:[Object(K.jsx)(j.b,{to:"/join",children:Object(K.jsx)(x.a,{size:"small",color:"primary",onClick:function(){a(p(!1))},children:"Joina spel  "})}),Object(K.jsxs)(j.b,{to:"/lobby",children:[" ",Object(K.jsx)(x.a,{size:"small",color:"primary",onClick:function(){a(p(!0)),a(h(t.code))},children:"Skapa rum"})]})]})]})},$=function(e){var t=Object(m.c)((function(e){return e.name})),a=Object(m.c)((function(e){return e.game.isHost})),n=Object(m.c)((function(e){return e.game.gameCode})),b=Object(u.useState)([]),O=Object(l.a)(b,2),f=O[0],p=O[1],h=Object(u.useState)(t.userName),y=Object(l.a)(h,2),v=y[0],g=y[1],k=Object(u.useState)(!1),E=Object(l.a)(k,2),N=E[0],R=E[1],w=Object(d.f)(),H=Object(m.b)(),D=Object(d.g)(),T=Object(u.useState)({}),B=Object(l.a)(T,2),I=B[0],M=B[1],_=n&&P.firestore().collection("rooms").doc("".concat(n));Object(u.useEffect)((function(){var e;_?(a&&_.set({}),_.update((e={},Object(o.a)(e,"players.".concat(t.code),Object(i.a)(Object(i.a)({},t),{},{isHost:a})),Object(o.a)(e,"gameStarted",!1),e))):w.push("/")}),[]),Object(u.useEffect)((function(){if(_){var e=P.firestore().collection("rooms").doc("".concat(n)).onSnapshot((function(e){"/lobby"===D.pathname&&(null===e||void 0===e?void 0:e.data())&&Object.keys(e.data()).length&&(p(Object.values(e.data().players)),M(e.data().players),R(e.data().gameStarted))}));return function(){return e()}}}),[]),Object(u.useEffect)((function(){(function(){var e=Object(s.a)(r.a.mark((function e(){var c,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=""!==v?v:"player-".concat(t.code),H({type:"NAMECHANGER",payload:c});try{_.update((n={},Object(o.a)(n,"players.".concat(t.code),Object(i.a)(Object(i.a)({},t),{},{userName:c,isHost:a})),Object(o.a)(n,"gameStarted",!1),n))}catch(r){}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[v]);return Object(u.useEffect)((function(){N&&w.push("/write")}),[N]),Object(K.jsxs)(A.a,{maxWidth:"sm",className:"container",style:{maxWidth:"17rem"},children:[Object(K.jsxs)(S.a,{children:[Object(K.jsxs)(F.a,{gutterBottom:!0,variant:"h5",component:"h3",style:{marginBottom:0,textAlign:"center"},children:["Rum ",n]}),Object(K.jsx)("ul",{style:{listStyleType:"circle",fontFamily:"Roboto"},children:f.map((function(e){return Object(K.jsx)("li",{style:{padding:"0.2rem"},children:e.userName},e.code)}))})]}),Object(K.jsx)(S.a,{style:{display:"flex",justifyContent:"space-around"},children:Object(K.jsx)(U.a,{value:v,id:"outlined-basic",label:"Namn",variant:"outlined",onChange:function(e){g(e.target.value)}})}),Object(K.jsxs)(C.a,{style:{display:"flex",justifyContent:"space-around"},children:[Object(K.jsxs)(j.b,{to:"/",children:["   ",Object(K.jsx)(x.a,{size:"small",color:"primary",onClick:function(){},children:"Avbryt "})]}),a&&Object(K.jsx)(x.a,{size:"small",color:"primary",onClick:function(){!function(){var e=f.length-1,t=I;f.forEach((function(e,a){for(var n=Object(c.a)(f).reverse(),r=0;r<a+1;r++)n.unshift(n.pop());t[e.code].order=n.map((function(e){return e.code})),t[e.code].ready=!1})),_.update({round:0,rounds:e+1,players:t})}(),_.update({gameStarted:!0})},children:" Starta  "})]})]})},q=function(e){var t=Object(u.useState)(""),a=Object(l.a)(t,2),c=a[0],n=a[1],r=P.firestore().collection("rooms"),s=Object(m.b)(),o=Object(d.f)(),i=Object(u.useState)(!1),b=Object(l.a)(i,2),O=b[0],f=b[1];return Object(K.jsxs)(g.a,{className:"card-class",style:{padding:"1rem"},children:[Object(K.jsx)(S.a,{children:Object(K.jsx)(F.a,{variant:"h5",component:"h2",children:"Joina spel"})}),Object(K.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==c&&r.doc(c).get().then((function(e){e.exists?(s(h(c)),o.push("/lobby")):f(!0)}))},children:[Object(K.jsx)(C.a,{children:Object(K.jsx)(U.a,{value:c,id:"outlined-basic",label:"Anslutningskod",variant:"outlined",onChange:function(e){return n(e.target.value)}})}),Object(K.jsxs)(C.a,{style:{display:"flex",justifyContent:"space-around"},children:[Object(K.jsx)(j.b,{to:"/",children:Object(K.jsx)(x.a,{size:"small",color:"primary",onClick:function(){},children:"Avbryt "})}),Object(K.jsx)(x.a,{size:"small",color:"primary",type:"submit",children:"Hitta spel "}),Object(K.jsx)(W.a,{open:O,autoHideDuration:6e3,onClose:function(){f(!1)},children:Object(K.jsx)(y.a,{severity:"error",children:"Hittade ingets spel"})})]})]})]})},Q=function(e){var t=Object(m.c)((function(e){return e.name.code})),a=Object(m.c)((function(e){return e.game.gameCode})),c=a&&P.firestore().collection("rooms").doc("".concat(a)),n=Object(u.useState)(99),r=Object(l.a)(n,2),s=r[0],o=r[1],i=Object(u.useState)([]),j=Object(l.a)(i,2),b=j[0],O=j[1],f=Object(u.useState)(""),h=Object(l.a)(f,2),y=h[0],x=h[1],v=Object(u.useState)(0),g=Object(l.a)(v,2),k=g[0],N=g[1],R=Object(u.useState)(0),H=Object(l.a)(R,2),D=H[0],T=H[1],B=Object(u.useState)(!1),I=Object(l.a)(B,2),M=I[0],_=I[1],z=Object(d.f)(),G=Object(d.g)();Object(u.useEffect)((function(){var e=c.onSnapshot((function(e){if("/write"===G.pathname&&e.data()){var t=e.data().players,a=e.data().round;O(t),N(a),T(Object.values(t).filter((function(e){return e.ready})).length),o(Object.values(t).length)}}));return function(){return e()}}),[]);var W=function(e){if(e.preventDefault(),""!==y){_(!0);var a=b[t];a.ready=!0,a[k]=y;var n={};n["players."+t]=a,c.update(n)}};return Object(u.useEffect)((function(){if(D===s){if(p){var e=b;Object.keys(b).forEach((function(t){return e[t].ready=!1})),c.update({round:k+1,players:e})}z.push("/draw")}}),[D]),Object(K.jsxs)(A.a,{maxWidth:"sm",className:"container",children:[Object(K.jsx)(S.a,{children:Object(K.jsx)(F.a,{gutterBottom:!0,variant:"h5",component:"h3",style:{marginBottom:0,textAlign:"center"},children:"Skriv ditt ord:"})}),Object(K.jsxs)(C.a,{style:{display:"flex",justifyContent:"center"},children:[Object(K.jsxs)("form",{onSubmit:function(e){return W(e)},autoComplete:"off",children:[" ",Object(K.jsx)(U.a,{disabled:M,id:"standard-basic",label:"",value:y,onChange:function(e){x(e.target.value)}})]}),Object(K.jsx)("br",{})]}),Object(K.jsx)(C.a,{style:{display:"flex",justifyContent:"space-around"},children:Object(K.jsx)(w.a,{control:Object(K.jsx)(E.a,{checked:M,onChange:function(e){return W(e)},name:"checkedB",color:"primary",disabled:M}),label:"Redo (".concat(D,")")})})]})},ee=function(){var e=Object(m.c)((function(e){return e.name.code})),t=Object(m.c)((function(e){return e.game.gameCode})),a=Object(u.useRef)(""),c=t&&P.firestore().collection("rooms").doc("".concat(t)),n=Object(u.useState)([]),r=Object(l.a)(n,2),s=r[0],o=r[1],i=Object(u.useState)(""),j=Object(l.a)(i,2),b=j[0],O=j[1],f=Object(u.useState)(""),h=Object(l.a)(f,2),y=h[0],x=h[1],v=Object(u.useState)(0),g=Object(l.a)(v,2),k=g[0],N=g[1],R=Object(u.useState)(0),H=Object(l.a)(R,2),D=H[0],T=H[1],B=Object(u.useState)(99),I=Object(l.a)(B,2),M=I[0],_=I[1],z=Object(u.useState)(!1),G=Object(l.a)(z,2),W=G[0],L=G[1],X=Object(u.useState)(!1),J=Object(l.a)(X,2),V=J[0],Z=J[1],$=Object(u.useState)(),q=Object(l.a)($,2),Q=q[0],ee=q[1],te=Object(d.f)(),ae=Object(d.g)();Object(u.useEffect)((function(){!0===V&&(L(!1),T(0),x(""));var t=c.onSnapshot((function(t){if("/draw"===ae.pathname&&t.data()){var a=t.data().players,c=t.data().round;if(c===Object.values(a).length)te.push("/done");else{o(a),N(c);var n=!(k%2!==0);T(Object.values(a).filter((function(e){return e.ready})).length),_(Object.values(a).length);var r=a[e].order[1];ee(n),O(a[r][c-1])}}}));return Z(!1),function(){return t()}}),[V]),Object(u.useEffect)((function(){if(b)if(Q)a.current.clear();else{var t=s[e].order[1];a.current.loadSaveData(s[t][k-1],!0)}}),[Q]);var ce=function(t){if(t.preventDefault(),""!==y||Q){L(!0);var n=s[e];n.ready=!0,n[k]=Q?a.current.getSaveData():y;var r={};r["players."+e]=n,c.update(r)}};return Object(u.useEffect)((function(){if(D===M){if(p){c.update({round:k+1});var e=s;Object.keys(s).forEach((function(t){return e[t].ready=!1})),c.update({round:k+1,players:e})}Z(!0)}}),[D]),Object(K.jsxs)(A.a,{maxWidth:"sm",className:"container",children:[Object(K.jsx)(S.a,{children:Object(K.jsx)(F.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{textAlign:"center"},children:Q&&"Rita ".concat(b)})}),Object(K.jsx)(Y,{ready:W,drawRound:Q,ref:a}),!Q&&Object(K.jsx)(C.a,{style:{display:"flex",justifyContent:"center"},children:Object(K.jsxs)("form",{onSubmit:function(e){return ce(e)},autoComplete:"off",children:[" ",Object(K.jsx)(U.a,{disabled:W,id:"standard-basic",label:"",value:y,onChange:function(e){x(e.target.value)}})]})}),Object(K.jsx)(C.a,{style:{display:"flex",justifyContent:"space-around"},children:Object(K.jsx)(w.a,{control:Object(K.jsx)(E.a,{checked:W,onClick:function(e){return ce(e)},name:"checkedB",color:"primary",disabled:W}),label:"Redo (".concat(D,")")})})]})},te=function(e){var t=Object(m.c)((function(e){return e.game.gameCode})),a=Object(m.c)((function(e){return e.name.code})),c=Object(u.useState)(a),n=Object(l.a)(c,2),r=n[0],s=n[1],o=P.firestore().collection("rooms").doc("".concat(t)),i=Object(u.useState)(),b=Object(l.a)(i,2),O=b[0],f=b[1],p=Object(u.useState)(),h=Object(l.a)(p,2),y=h[0],g=h[1],k=Object(m.b)(),E=Object(d.f)(),N=Object(u.useRef)();Object(u.useEffect)((function(){o||E.push("/"),o.get().then((function(e){e.exists&&f(e.data().players)}))}),[]),Object(u.useEffect)((function(){if(O){var e=O,t=Object.entries(e).map((function(e){var t=Object(l.a)(e,2);return{key:t[0],val:t[1].order.indexOf(r)}})).sort((function(e,t){return e.val>t.val?1:t.val>e.val?-1:0}));g(t)}}),[O,r]);return Object(K.jsxs)(A.a,{maxWidth:"sm",className:"container",style:{marginTop:"3rem",marginBottom:"3rem"},children:[Object(K.jsx)(S.a,{children:O&&Object(K.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(K.jsx)(X.a,{onChange:function(e,t){s(t)},value:r,indicatorColor:"primary",textColor:"primary",variant:"scrollable",children:Object.keys(O).map((function(e,t){return Object(K.jsx)(L.a,{label:O[e].userName,value:O[e].code},t)}))})})}),y&&y.map((function(e,t){return Object(K.jsx)("div",{children:t%2===0?Object(K.jsx)("h2",{style:{textAlign:"center",fontFamily:"Roboto"},children:O[e.key][t]}):Object(K.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(K.jsx)(v.a,{disabled:!0,ref:N,saveData:O[e.key][t],loadTimeOffset:.4,hideInterface:!0,style:{touchAction:"pan-y"}})})},t)})),Object(K.jsx)(C.a,{style:{display:"flex",justifyContent:"space-around"},children:Object(K.jsxs)(j.b,{to:"/",children:[" ",Object(K.jsx)(x.a,{size:"small",color:"primary",onClick:function(){o&&(o.delete(),k({type:"NAMECODECHANGER"}))},children:"Tillbaka"})]})})]})},ae=function(){return Object(K.jsx)("div",{children:Object(K.jsx)(j.a,{children:Object(K.jsx)("div",{className:"wapper",children:Object(K.jsxs)(d.c,{children:[Object(K.jsx)(d.a,{exact:!0,path:"/lobby",children:Object(K.jsx)($,{})}),Object(K.jsx)(d.a,{exact:!0,path:"/join",children:Object(K.jsx)(q,{})}),Object(K.jsx)(d.a,{exact:!0,path:"/write",children:Object(K.jsx)(Q,{})}),Object(K.jsx)(d.a,{exact:!0,path:"/draw",children:Object(K.jsx)(ee,{})}),Object(K.jsx)(d.a,{exact:!0,path:"/done",children:Object(K.jsx)(te,{})}),Object(K.jsx)(d.a,{path:"/",children:Object(K.jsx)(Z,{})})]})})})})},ce=a(16),ne=a.n(ce),re=a(67),se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{gameCode:"",isHost:!0,nrOfPlayers:2},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GAMECODECHANGER":return Object(i.a)(Object(i.a)({},e),{},{gameCode:t.payload});case"ISHOSTCHANGER":return Object(i.a)(Object(i.a)({},e),{},{isHost:t.payload});case"SETNUMBEROFPLAYERS":return Object(i.a)(Object(i.a)({},e),{},{nrOfPlayers:t.payload});default:return e}},oe=Math.floor(1e3+9e3*Math.random()),ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{code:oe,userName:"spelare-".concat(oe)},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NAMECHANGER":return Object(i.a)(Object(i.a)({},e),{},{userName:t.payload});case"NAMECODECHANGER":var a=Math.floor(1e3+9e3*Math.random());return Object(i.a)(Object(i.a)({},e),{},{code:a});default:return e}},le=Object(re.a)({name:ie,game:se}),je=Object(re.b)(le,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());ne.a.render(Object(K.jsx)(m.a,{store:je,children:Object(K.jsx)(ae,{})}),document.getElementById("root"))}},[[123,1,2]]]);
//# sourceMappingURL=main.10985c1e.chunk.js.map