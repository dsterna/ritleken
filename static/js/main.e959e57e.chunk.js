(this.webpackJsonpritleken=this.webpackJsonpritleken||[]).push([[0],{100:function(e,t,a){},103:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);a(100),a(101);var c=a(90),n=a(71),r=a.n(n),s=a(83),o=a(22),i=a(14),j=a(26),l=(a(103),a(45)),b=a(17),u=a(0),d=function(e){return{type:"ISHOSTCHANGER",payload:e}},O=function(e){return{type:"GAMECODECHANGER",payload:e}},f=a(23),p=a(89),h=a.n(p),m=a(88),x=a.n(m),y=a(174),v=a(169),g=a(62),C=a(170),S=a(165),E=a(164),k=a(168),N=a(175),A=a(160),R=a(75),w=a.n(R),D=a(167),H=a(166),B=a(177),T=a(171),_=a(173),I=a(172),M=a(119),z=(a(118),a(72));z.a.initializeApp({apiKey:"AIzaSyCam1vXotzoIfZT7DyTbF8XSnLe0he-Uto",authDomain:"adealbreaker-c9190.firebaseapp.com",databaseURL:"https://adealbreaker-c9190.firebaseio.com",projectId:"adealbreaker-c9190",storageBucket:"adealbreaker-c9190.appspot.com",messagingSenderId:"621961109952",appId:"1:621961109952:web:ae70fc224efd7b3cb8e825"});var G=z.a,L=a.p+"static/media/temp2.5070e5eb.jpg",X=a(3);var U=function(){var e=Object(u.useRef)(),t=!1;return Object(X.jsxs)(A.a,{maxWidth:"sm",className:"container",children:[Object(X.jsx)(E.a,{children:Object(X.jsx)(M.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{textAlign:"center"},children:"Rita ".concat("bl\xe4")})}),Object(X.jsx)(S.a,{style:Object(j.a)({display:"flex",justifyContent:"space-around"},"justifyContent","center"),children:Object(X.jsx)(g.a,{disabled:!1,ref:e})}),!1,Object(X.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"1rem"},children:[Object(X.jsx)(H.a,{"aria-label":"delete",children:Object(X.jsx)(w.a,{})}),Object(X.jsx)(H.a,{"aria-label":"delete",disabled:!0,color:"primary",children:Object(X.jsx)(w.a,{})}),Object(X.jsx)(H.a,{color:"secondary","aria-label":"add an alarm",children:Object(X.jsx)(x.a,{})}),Object(X.jsx)(H.a,{color:"primary","aria-label":"add to shopping cart",children:Object(X.jsx)(h.a,{})})]}),Object(X.jsx)(S.a,{style:{display:"flex",justifyContent:"space-around"},children:Object(X.jsx)(D.a,{control:Object(X.jsx)(N.a,{checked:t,name:"checkedB",color:"primary",disabled:t}),label:"Redo (".concat(1,")")})})]})},W=function(e){var t=Object(f.c)((function(e){return e.name})),a=Object(f.b)();return Object(X.jsxs)(A.a,{maxWidth:"sm",className:"container",children:[Object(X.jsx)(k.a,{component:"img",alt:"Contemplative Reptile",height:"300",image:L,title:"tmep"}),Object(X.jsxs)(E.a,{children:[Object(X.jsx)(M.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Ritleken"}),Object(X.jsx)(M.a,{variant:"body2",color:"textSecondary",component:"p",children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Saepe non rem inventore repellendus est exercitationem nihil earum consequatur libero corrupti?"})]}),Object(X.jsxs)(S.a,{style:{display:"flex",justifyContent:"space-around"},children:[Object(X.jsx)(l.b,{to:"/join",children:Object(X.jsx)(v.a,{size:"small",color:"primary",onClick:function(){a(d(!1))},children:"Joina spel  "})}),Object(X.jsxs)(l.b,{to:"/lobby",children:[" ",Object(X.jsx)(v.a,{size:"small",color:"primary",onClick:function(){a(d(!0)),a(O(t.code))},children:"Skapa rum"})]})]})]})},J=function(e){var t=Object(f.c)((function(e){return e.name})),a=Object(f.c)((function(e){return e.game.isHost})),n=Object(f.c)((function(e){return e.game.gameCode})),d=Object(u.useState)([]),O=Object(i.a)(d,2),p=O[0],h=O[1],m=Object(u.useState)(t.userName),x=Object(i.a)(m,2),y=x[0],g=x[1],k=Object(u.useState)(!1),N=Object(i.a)(k,2),A=N[0],R=N[1],w=Object(b.f)(),D=Object(f.b)(),H=Object(b.g)(),B=Object(u.useState)({}),T=Object(i.a)(B,2),_=T[0],z=T[1],L=n&&G.firestore().collection("rooms").doc("".concat(n));Object(u.useEffect)((function(){var e;L?(a&&L.set({}),L.update((e={},Object(j.a)(e,"players.".concat(t.code),Object(o.a)(Object(o.a)({},t),{},{isHost:a})),Object(j.a)(e,"gameStarted",!1),e))):w.push("/")}),[]),Object(u.useEffect)((function(){if(L){var e=G.firestore().collection("rooms").doc("".concat(n)).onSnapshot((function(e){"/lobby"===H.pathname&&(null===e||void 0===e?void 0:e.data())&&Object.keys(e.data()).length&&(h(Object.values(e.data().players)),z(e.data().players),R(e.data().gameStarted))}));return function(){return e()}}}),[]),Object(u.useEffect)((function(){(function(){var e=Object(s.a)(r.a.mark((function e(){var c,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=""!==y?y:"player-".concat(t.code),D({type:"NAMECHANGER",payload:c});try{L.update((n={},Object(j.a)(n,"players.".concat(t.code),Object(o.a)(Object(o.a)({},t),{},{userName:c,isHost:a})),Object(j.a)(n,"gameStarted",!1),n))}catch(r){}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[y]);return Object(u.useEffect)((function(){A&&w.push("/write")}),[A]),Object(X.jsxs)(C.a,{className:"card-class",style:{padding:"1rem"},children:[Object(X.jsxs)(E.a,{children:[Object(X.jsxs)(M.a,{variant:"h5",component:"h2",children:["Lobby ",n]}),Object(X.jsx)("ul",{children:p.map((function(e){return Object(X.jsx)("li",{children:e.userName},e.code)}))})]}),Object(X.jsx)(S.a,{}),Object(X.jsx)(I.a,{value:y,id:"outlined-basic",label:"Namn",variant:"outlined",onChange:function(e){g(e.target.value)}}),Object(X.jsxs)(S.a,{style:{display:"flex",justifyContent:"space-around"},children:[Object(X.jsxs)(l.b,{to:"/",children:["   ",Object(X.jsx)(v.a,{size:"small",color:"primary",onClick:function(){},children:"Avbryt "})]}),a&&Object(X.jsx)(v.a,{size:"small",color:"primary",onClick:function(){!function(){var e=p.length-1,t=_;p.forEach((function(e,a){for(var n=Object(c.a)(p).reverse(),r=0;r<a+1;r++)n.unshift(n.pop());t[e.code].order=n.map((function(e){return e.code})),t[e.code].ready=!1})),L.update({round:0,rounds:e+1,players:t})}(),L.update({gameStarted:!0})},children:" Starta  "})]})]})},F=function(e){var t=Object(u.useState)(""),a=Object(i.a)(t,2),c=a[0],n=a[1],r=G.firestore().collection("rooms"),s=Object(f.b)(),o=Object(b.f)(),j=Object(u.useState)(!1),d=Object(i.a)(j,2),p=d[0],h=d[1];return Object(X.jsxs)(C.a,{className:"card-class",style:{padding:"1rem"},children:[Object(X.jsx)(E.a,{children:Object(X.jsx)(M.a,{variant:"h5",component:"h2",children:"Joina spel"})}),Object(X.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==c&&r.doc(c).get().then((function(e){e.exists?(s(O(c)),o.push("/lobby")):h(!0)}))},children:[Object(X.jsx)(S.a,{children:Object(X.jsx)(I.a,{value:c,id:"outlined-basic",label:"Anslutningskod",variant:"outlined",onChange:function(e){return n(e.target.value)}})}),Object(X.jsxs)(S.a,{style:{display:"flex",justifyContent:"space-around"},children:[Object(X.jsx)(l.b,{to:"/",children:Object(X.jsx)(v.a,{size:"small",color:"primary",onClick:function(){},children:"Avbryt "})}),Object(X.jsx)(v.a,{size:"small",color:"primary",type:"submit",children:"Hitta spel "}),Object(X.jsx)(B.a,{open:p,autoHideDuration:6e3,onClose:function(){h(!1)},children:Object(X.jsx)(y.a,{severity:"error",children:"Hittade ingets spel"})})]})]})]})},P=function(e){var t=Object(f.c)((function(e){return e.name.code})),a=Object(f.c)((function(e){return e.game.gameCode})),c=a&&G.firestore().collection("rooms").doc("".concat(a)),n=Object(u.useState)(99),r=Object(i.a)(n,2),s=r[0],o=r[1],l=Object(u.useState)([]),O=Object(i.a)(l,2),p=O[0],h=O[1],m=Object(u.useState)(""),x=Object(i.a)(m,2),y=x[0],v=x[1],g=Object(u.useState)(0),C=Object(i.a)(g,2),k=C[0],R=C[1],w=Object(u.useState)(0),H=Object(i.a)(w,2),B=H[0],T=H[1],_=Object(u.useState)(!1),z=Object(i.a)(_,2),L=z[0],U=z[1],W=Object(b.f)(),J=Object(b.g)();Object(u.useEffect)((function(){var e=c.onSnapshot((function(e){if("/write"===J.pathname&&e.data()){var t=e.data().players,a=e.data().round;h(t),R(a),T(Object.values(t).filter((function(e){return e.ready})).length),o(Object.values(t).length)}}));return function(){return e()}}),[]);var F=function(e){if(e.preventDefault(),""!==y){U(!0);var a=p[t];a.ready=!0,a[k]=y;var n={};n["players."+t]=a,c.update(n)}};return Object(u.useEffect)((function(){if(B===s){if(d){var e=p;Object.keys(p).forEach((function(t){return e[t].ready=!1})),c.update({round:k+1,players:e})}W.push("/draw")}}),[B]),Object(X.jsxs)(A.a,{maxWidth:"sm",className:"container",children:[Object(X.jsx)(E.a,{children:Object(X.jsx)(M.a,{gutterBottom:!0,variant:"h5",component:"h3",style:{marginBottom:0,textAlign:"center"},children:"Skriv ditt ord:"})}),Object(X.jsxs)(S.a,{style:Object(j.a)({display:"flex",justifyContent:"space-around"},"justifyContent","center"),children:[Object(X.jsxs)("form",{onSubmit:function(e){return F(e)},autoComplete:"off",children:[" ",Object(X.jsx)(I.a,{disabled:L,id:"standard-basic",label:"",value:y,onChange:function(e){v(e.target.value)}})]}),Object(X.jsx)("br",{})]}),Object(X.jsx)(S.a,{style:{display:"flex",justifyContent:"space-around"},children:Object(X.jsx)(D.a,{control:Object(X.jsx)(N.a,{checked:L,onChange:function(e){return F(e)},name:"checkedB",color:"primary",disabled:L}),label:"Redo (".concat(B,")")})})]})},V=function(){var e=Object(f.c)((function(e){return e.name.code})),t=Object(f.c)((function(e){return e.game.gameCode})),a=Object(u.useRef)(""),c=t&&G.firestore().collection("rooms").doc("".concat(t)),n=Object(u.useState)([]),r=Object(i.a)(n,2),s=r[0],o=r[1],l=Object(u.useState)(""),O=Object(i.a)(l,2),p=O[0],h=O[1],m=Object(u.useState)(""),x=Object(i.a)(m,2),y=x[0],v=x[1],C=Object(u.useState)(0),k=Object(i.a)(C,2),R=k[0],w=k[1],H=Object(u.useState)(0),B=Object(i.a)(H,2),T=B[0],_=B[1],z=Object(u.useState)(99),L=Object(i.a)(z,2),U=L[0],W=L[1],J=Object(u.useState)(!1),F=Object(i.a)(J,2),P=F[0],V=F[1],q=Object(u.useState)(!1),K=Object(i.a)(q,2),Y=K[0],Z=K[1],Q=Object(u.useState)(),$=Object(i.a)(Q,2),ee=$[0],te=$[1],ae=Object(b.f)(),ce=Object(b.g)();Object(u.useEffect)((function(){!0===Y&&(V(!1),_(0),v(""));var t=c.onSnapshot((function(t){if("/draw"===ce.pathname&&t.data()){var a=t.data().players,c=t.data().round;if(c===Object.values(a).length)ae.push("/done");else{o(a),w(c);var n=!(R%2!==0);_(Object.values(a).filter((function(e){return e.ready})).length),W(Object.values(a).length);var r=a[e].order[1];te(n),h(a[r][c-1])}}}));return Z(!1),function(){return t()}}),[Y]),Object(u.useEffect)((function(){if(p)if(ee)a.current.clear();else{var t=s[e].order[1];a.current.loadSaveData(s[t][R-1],!0)}}),[ee]);var ne=function(t){if(t.preventDefault(),""!==y||ee){V(!0);var n=s[e];n.ready=!0,n[R]=ee?a.current.getSaveData():y;var r={};r["players."+e]=n,c.update(r)}};return Object(u.useEffect)((function(){if(T===U){if(d){c.update({round:R+1});var e=s;Object.keys(s).forEach((function(t){return e[t].ready=!1})),c.update({round:R+1,players:e})}Z(!0)}}),[T]),Object(X.jsxs)(A.a,{maxWidth:"sm",className:"container",children:[Object(X.jsx)(E.a,{children:Object(X.jsx)(M.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{textAlign:"center"},children:ee&&"Rita ".concat(p)})}),Object(X.jsx)(S.a,{style:Object(j.a)({display:"flex",justifyContent:"space-around"},"justifyContent","center"),children:Object(X.jsx)(g.a,{disabled:P||!ee,ref:a})}),!ee&&Object(X.jsx)(S.a,{style:Object(j.a)({display:"flex",justifyContent:"space-around"},"justifyContent","center"),children:Object(X.jsxs)("form",{onSubmit:function(e){return ne(e)},autoComplete:"off",children:[" ",Object(X.jsx)(I.a,{disabled:P,id:"standard-basic",label:"",value:y,onChange:function(e){v(e.target.value)}})]})}),Object(X.jsx)("br",{}),Object(X.jsx)(S.a,{style:{display:"flex",justifyContent:"space-around"},children:Object(X.jsx)(D.a,{control:Object(X.jsx)(N.a,{checked:P,onClick:function(e){return ne(e)},name:"checkedB",color:"primary",disabled:P}),label:"Redo (".concat(T,")")})})]})},q=function(e){var t=Object(f.c)((function(e){return e.game.gameCode})),a=Object(f.c)((function(e){return e.name.code})),c=Object(u.useState)(a),n=Object(i.a)(c,2),r=n[0],s=n[1],d=G.firestore().collection("rooms").doc("".concat(t)),O=Object(u.useState)(),p=Object(i.a)(O,2),h=p[0],m=p[1],x=Object(u.useState)(),y=Object(i.a)(x,2),C=y[0],k=y[1],N=Object(f.b)(),R=Object(b.f)();Object(u.useEffect)((function(){d||R.push("/"),d.get().then((function(e){e.exists&&m(e.data().players)}))}),[]),Object(u.useEffect)((function(){if(h){var e=h,t=Object.entries(e).map((function(e){var t=Object(i.a)(e,2);return{key:t[0],val:t[1].order.indexOf(r)}})).sort((function(e,t){return e.val>t.val?1:t.val>e.val?-1:0}));k(t)}}),[h,r]);return Object(X.jsxs)(A.a,{maxWidth:"sm",className:"container",style:{marginTop:"3rem",marginBottom:"3rem"},children:[Object(X.jsx)(E.a,{children:h&&Object(X.jsx)("div",{style:Object(j.a)({display:"flex",justifyContent:"space-around"},"justifyContent","center"),children:Object(X.jsx)(_.a,{onChange:function(e,t){s(t)},value:r,indicatorColor:"primary",textColor:"primary",children:Object.keys(h).map((function(e,t){return Object(X.jsx)(T.a,Object(o.a)({label:h[e].userName,value:h[e].code},function(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}(t)),t)}))})})}),C&&C.map((function(e,t){return Object(X.jsx)("div",{children:t%2===0?Object(X.jsx)("h2",{style:{textAlign:"center",fontFamily:"Roboto"},children:h[e.key][t]}):Object(X.jsx)("div",{style:Object(j.a)({display:"flex",justifyContent:"space-around"},"justifyContent","center"),children:Object(X.jsx)(g.a,{disabled:!0,saveData:h[e.key][t],hideInterface:!0,style:{touchAction:"pan-y"}})})},t)})),Object(X.jsx)(S.a,{style:{display:"flex",justifyContent:"space-around"},children:Object(X.jsxs)(l.b,{to:"/",children:[" ",Object(X.jsx)(v.a,{size:"small",color:"primary",onClick:function(){d&&(d.delete(),N({type:"NAMECODECHANGER"}))},children:"Tillbaka"})]})})]})},K=function(){return Object(X.jsx)("div",{children:Object(X.jsx)(l.a,{children:Object(X.jsx)("div",{className:"wapper",children:Object(X.jsxs)(b.c,{children:[Object(X.jsx)(b.a,{exact:!0,path:"/lobby",children:Object(X.jsx)(J,{})}),Object(X.jsx)(b.a,{exact:!0,path:"/join",children:Object(X.jsx)(F,{})}),Object(X.jsx)(b.a,{exact:!0,path:"/write",children:Object(X.jsx)(P,{})}),Object(X.jsx)(b.a,{exact:!0,path:"/draw",children:Object(X.jsx)(V,{})}),Object(X.jsx)(b.a,{exact:!0,path:"/done",children:Object(X.jsx)(q,{})}),Object(X.jsx)(b.a,{exact:!0,path:"/TempDraw",children:Object(X.jsx)(U,{})}),Object(X.jsx)(b.a,{path:"/",children:Object(X.jsx)(W,{})})]})})})})},Y=a(12),Z=a.n(Y),Q=a(61),$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{gameCode:"",isHost:!0,nrOfPlayers:2},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GAMECODECHANGER":return Object(o.a)(Object(o.a)({},e),{},{gameCode:t.payload});case"ISHOSTCHANGER":return Object(o.a)(Object(o.a)({},e),{},{isHost:t.payload});case"SETNUMBEROFPLAYERS":return Object(o.a)(Object(o.a)({},e),{},{nrOfPlayers:t.payload});default:return e}},ee=Math.floor(1e3+9e3*Math.random()),te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{code:ee,userName:"spelare-".concat(ee)},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NAMECHANGER":return Object(o.a)(Object(o.a)({},e),{},{userName:t.payload});case"NAMECODECHANGER":var a=Math.floor(1e3+9e3*Math.random());return Object(o.a)(Object(o.a)({},e),{},{code:a});default:return e}},ae=Object(Q.a)({name:te,game:$}),ce=Object(Q.b)(ae,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Z.a.render(Object(X.jsx)(f.a,{store:ce,children:Object(X.jsx)(K,{})}),document.getElementById("root"))}},[[117,1,2]]]);
//# sourceMappingURL=main.e959e57e.chunk.js.map